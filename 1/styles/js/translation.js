const translations = {
    en: {
        // Navbar
        'live-chat': 'Live Chat',
        'home': 'Home',
        'about': 'About',
        'services': 'Services',
        'portfolio': 'Portfolio',
        'blog': 'Blog',

        // Hero
        'hero-title': '<span style="color: var(--primary-color);">imagination</span> is more important than knowledge',
        'hero-subtitle': 'Designer & Developer based in New York, specializing in UI/UX Design and Web Development',
        'get-started': 'Get Started',

        // About
        'about-subtitle': 'ABOUT ME',
        'about-title': 'I\'m a <span style="color: var(--primary-color);">Designer</span> & Developer',
        'about-text': 'Passionate about creating beautiful and functional digital experiences that help businesses grow and succeed in the digital world.',
        'download-cv': 'Download CV',

        // Experience
        'experience-subtitle': 'MY EXPERIENCE',
        'experience-title': 'My <span style="color: var(--primary-color);">Journey</span>',
        'experience-text': 'Over 10 years of experience in design and development, working with leading companies and startups worldwide.',

        // Services
        'services-subtitle': 'WHAT WE DO',
        'services-title': 'Our <span style="color: var(--primary-color);">Services</span>',
        'services-text': 'We offer a full range of creative services to help your business stand out and succeed in the digital landscape.',
        'service-1-title': 'UI/UX Design',
        'service-1-text': 'Creating intuitive and engaging user interfaces that delight users and drive conversions.',
        'service-2-title': 'Web Development',
        'service-2-text': 'Building responsive and performant websites using the latest technologies and best practices.',
        'service-3-title': 'Branding',
        'service-3-text': 'Developing strong brand identities that resonate with your target audience and stand the test of time.',

        // Portfolio
        'portfolio-subtitle': 'PORTFOLIO',
        'portfolio-title': 'Recent <span style="color: var(--primary-color);">Projects</span>',
        'portfolio-text': 'Showcasing our latest work and the innovative solutions we\'ve delivered for our clients.',

        // Testimonials
        'testimonials-subtitle': 'CLIENT FEEDBACK',
        'testimonials-title': 'What <span style="color: var(--primary-color);">Clients</span> Say',
        'testimonials-text': 'Real feedback from real clients who trust us with their projects.',
        'testimonial-1-text': 'Working with this team was an absolute pleasure. They delivered beyond our expectations and on time.',
        'testimonial-1-name': 'John Michaels',
        'testimonial-1-location': 'New York, USA',
        'testimonial-2-text': 'Exceptional quality and attention to detail. Highly recommend for any design project.',
        'testimonial-2-name': 'Sarah Klein',
        'testimonial-2-location': 'London, UK',
        'testimonial-3-text': 'Professional, creative, and reliable. They transformed our vision into reality perfectly.',
        'testimonial-3-name': 'Robert Patterson',
        'testimonial-3-location': 'Sydney, Australia',

        // Pricing
        'pricing-subtitle': 'PRICING PLANS',
        'pricing-title': 'Choose Your <span style="color: var(--primary-color);">Plan</span>',
        'pricing-text': 'Flexible pricing options to suit businesses of all sizes and budgets.',
        'basic-plan': 'Basic Plan',
        'basic-plan-desc': 'For Small Projects',
        'pro-plan': 'Pro Plan',
        'pro-plan-desc': 'For Growing Businesses',
        'ultra-plan': 'Ultra Plan',
        'ultra-plan-desc': 'For Large Enterprises',
        'per-month': 'per month',
        'read-more': 'Read More',

        // Blog
        'blog-subtitle': 'RECENT NEWS DESK',
        'blog-title': 'Latest <span style="color: var(--primary-color);">Blog</span> Posts',
        'blog-text': 'Stay updated with our latest insights, tips, and industry news.',

        // Newsletter
        'newsletter-subtitle': 'STAY CONNECTED',
        'newsletter-title': 'Stay up to date, subscribe to the free <span style="color: var(--primary-color)">newsletter !</span>',
        'email-placeholder': 'Enter your email',
        'subscribe': 'Subscribe',

        // Footer
        'about-me': 'About Me',
        'career': 'Career',
        'gallery': 'Gallery',
        'contact-me': 'Contact Me',
        'rights': '© 2024 All Rights Reserved.'
    },
    ar: {
        // Navbar
        'live-chat': 'محادثة مباشرة',
        'home': 'الرئيسية',
        'about': 'من نحن',
        'services': 'الخدمات',
        'portfolio': 'الأعمال',
        'blog': 'المدونة',

        // Hero
        'hero-title': '<span style="color: var(--primary-color);">الخيال</span> أهم من المعرفة',
        'hero-subtitle': 'مصمم ومطور من نيويورك، متخصص في تصميم UI/UX وتطوير الويب',
        'get-started': 'ابدأ الآن',

        // About
        'about-subtitle': 'من أنا',
        'about-title': 'أنا <span style="color: var(--primary-color);">مصمم</span> ومطور',
        'about-text': 'شغوف بإنشاء تجارب رقمية جميلة وعملية تساعد الشركات على النمو والنجاح في العالم الرقمي.',
        'download-cv': 'تحميل السيرة الذاتية',

        // Experience
        'experience-subtitle': 'خبرتي',
        'experience-title': '<span style="color: var(--primary-color);">رحلتي</span> المهنية',
        'experience-text': 'أكثر من 10 سنوات من الخبرة في التصميم والتطوير، والعمل مع الشركات الرائدة والناشئة في جميع أنحاء العالم.',

        // Services
        'services-subtitle': 'ماذا نفعل',
        'services-title': '<span style="color: var(--primary-color);">خدماتنا</span>',
        'services-text': 'نقدم مجموعة كاملة من الخدمات الإبداعية لمساعدة عملك على التميز والنجاح في المشهد الرقمي.',
        'service-1-title': 'تصميم UI/UX',
        'service-1-text': 'إنشاء واجهات مستخدم بديهية وجذابة تسعد المستخدمين وتزيد التحويلات.',
        'service-2-title': 'تطوير الويب',
        'service-2-text': 'بناء مواقع ويب متجاوبة وعالية الأداء باستخدام أحدث التقنيات وأفضل الممارسات.',
        'service-3-title': 'العلامة التجارية',
        'service-3-text': 'تطوير هويات علامة تجارية قوية تتناسب مع جمهورك المستهدف وتصمد أمام اختبار الزمن.',

        // Portfolio
        'portfolio-subtitle': 'الأعمال',
        'portfolio-title': '<span style="color: var(--primary-color);">المشاريع</span> الأخيرة',
        'portfolio-text': 'عرض أحدث أعمالنا والحلول المبتكرة التي قدمناها لعملائنا.',

        // Testimonials
        'testimonials-subtitle': 'آراء العملاء',
        'testimonials-title': 'ماذا يقول <span style="color: var(--primary-color);">العملاء</span>',
        'testimonials-text': 'آراء حقيقية من عملاء حقيقيين يثقون بنا في مشاريعهم.',
        'testimonial-1-text': 'العمل مع هذا الفريق كان متعة مطلقة. لقد قدموا ما يفوق توقعاتنا وفي الوقت المحدد.',
        'testimonial-1-name': 'جون مايكلز',
        'testimonial-1-location': 'نيويورك، الولايات المتحدة',
        'testimonial-2-text': 'جودة استثنائية واهتمام بالتفاصيل. أوصي بهم بشدة لأي مشروع تصميم.',
        'testimonial-2-name': 'سارة كلاين',
        'testimonial-2-location': 'لندن، المملكة المتحدة',
        'testimonial-3-text': 'محترفون ومبدعون وموثوقون. لقد حولوا رؤيتنا إلى واقع بشكل مثالي.',
        'testimonial-3-name': 'روبرت باترسون',
        'testimonial-3-location': 'سيدني، أستراليا',

        // Pricing
        'pricing-subtitle': 'خطط الأسعار',
        'pricing-title': 'اختر <span style="color: var(--primary-color);">خطتك</span>',
        'pricing-text': 'خيارات تسعير مرنة لتناسب الشركات من جميع الأحجام والميزانيات.',
        'basic-plan': 'الخطة الأساسية',
        'basic-plan-desc': 'للمشاريع الصغيرة',
        'pro-plan': 'الخطة الاحترافية',
        'pro-plan-desc': 'للشركات المتنامية',
        'ultra-plan': 'الخطة الفائقة',
        'ultra-plan-desc': 'للمؤسسات الكبيرة',
        'per-month': 'شهرياً',
        'read-more': 'اقرأ المزيد',

        // Blog
        'blog-subtitle': 'أحدث الأخبار',
        'blog-title': 'أحدث منشورات <span style="color: var(--primary-color);">المدونة</span>',
        'blog-text': 'ابق على اطلاع بأحدث رؤانا ونصائحنا وأخبار الصناعة.',

        // Newsletter
        'newsletter-subtitle': 'ابق على تواصل',
        'newsletter-title': 'ابق على اطلاع، اشترك في <span style="color: var(--primary-color)">النشرة المجانية !</span>',
        'email-placeholder': 'أدخل بريدك الإلكتروني',
        'subscribe': 'اشترك',

        // Footer
        'about-me': 'من أنا',
        'career': 'الوظائف',
        'gallery': 'المعرض',
        'contact-me': 'اتصل بي',
        'rights': '© 2024 جميع الحقوق محفوظة.'
    }
};

let currentLang = 'en';

function translatePage(lang) {
    currentLang = lang;
    const elements = document.querySelectorAll('[data-translate]');

    elements.forEach(el => {
        const key = el.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });

    // Update placeholder for input
    const emailInput = document.querySelector('input[data-translate="email-placeholder"]');
    if (emailInput && translations[lang]['email-placeholder']) {
        emailInput.placeholder = translations[lang]['email-placeholder'];
    }

    // Force refresh Owl Carousel after translation with delay
    setTimeout(() => {
        if (typeof $ !== 'undefined' && $('.testimonial-carousel').length) {
            const owl = $('.testimonial-carousel');

            // Destroy completely
            if (owl.hasClass('owl-loaded')) {
                owl.trigger('destroy.owl.carousel');
                owl.removeClass('owl-carousel owl-loaded');
                owl.find('.owl-stage-outer').children().unwrap();
            }

            // Remove all owl classes
            owl.find('.owl-item').contents().unwrap();

            // Reinitialize
            owl.addClass('owl-carousel');
            owl.owlCarousel({
                loop: true,
                margin: 30,
                nav: false,
                dots: true,
                autoplay: true,
                autoplayTimeout: 5000,
                rtl: lang === 'ar',
                responsive: {
                    0: { items: 1 },
                    768: { items: 1 },
                    992: { items: 1 }
                }
            });
        }
    }, 100);
}

// Auto-init
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('language') || 'en';
    const langSwitch = document.getElementById('langSwitch');
    if (langSwitch) {
        langSwitch.value = savedLang;
    }

    // Set initial direction
    const html = document.documentElement;
    if (savedLang === 'ar') {
        html.setAttribute('lang', 'ar');
        html.setAttribute('dir', 'rtl');
    } else {
        html.setAttribute('lang', 'en');
        html.setAttribute('dir', 'ltr');
    }

    translatePage(savedLang);
});